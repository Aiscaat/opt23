"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=document,active="-active";window.addEventListener("load",function(){headerCatalog(),headerPopups(),$.querySelector(".product")&&quickView(),$.querySelector(".quick-view__wrap")&&device(1),$.querySelector(".header-catalog")&&device(2),$.querySelector(".slider__wrap")&&swiper({elem:{selector:".slider__wrap",settings:{wrapperClass:"slider__list",slideClass:"product",slidesPerView:"auto",navigation:{nextEl:".slider__control-btn.-next",prevEl:".slider__control-btn.-prev"},breakpoints:{540:{navigation:{nextEl:".content-control__btn.-next",prevEl:".content-control__btn.-prev"}}},pagination:{el:".content-control__counter",type:"fraction"}}}}),$.querySelector(".about-company__slider")&&swiper({elem:{selector:".about-company__slider-wrap",settings:{wrapperClass:"about-company__slider-container",slideClass:"about-company__slider-item",slidesPerView:1,navigation:{nextEl:".slider__control-btn.-next",prevEl:".slider__control-btn.-prev"},breakpoints:{540:{navigation:{nextEl:".content-control__btn.-next",prevEl:".content-control__btn.-prev"}}},pagination:{el:".content-control__counter",type:"fraction"}}}}),$.querySelector(".shares__list")&&swiper({maxWidth:"540px",elem:{selector:".shares__list",settings:{wrapperClass:"shares__list-wrap",slideClass:"shares__item",slidesPerView:"auto",navigation:{nextEl:".content-control__btn.-next",prevEl:".content-control__btn.-prev"},pagination:{el:".content-control__counter",type:"fraction"}}}}),$.querySelector(".advantages__list")&&swiper({maxWidth:"540px",elem:{selector:".advantages__list",settings:{wrapperClass:"advantages__list-wrap",slideClass:"advantages__item",slidesPerView:"auto",navigation:{nextEl:".content-control__btn.-next",prevEl:".content-control__btn.-prev"},pagination:{el:".content-control__counter",type:"fraction"}}}}),$.querySelector("form.filter__list")&&catalogFilter.init(),$.querySelector(".catalog-controls__sort-wrap")&&mobileCatalogControls(),$.querySelector(".profile__wrap")&&profileModule.init()});var _closePopupElement=function(e){e.querySelector("button.close").onclick=function(){e.style.display="none"}},_tabsCommonFunc=function(e){var t=null;e.forEach(function(e){e.classList.contains(active)&&(t=$.getElementById(e.getAttribute("href"))),e.onclick=function(n){if(n.preventDefault(),e.classList.contains(active))return!1;e.parentElement.querySelector("a.-active").classList.remove(active),e.classList.add(active),null!==t&&(t.style.display="none"),(t=$.getElementById(e.getAttribute("href"))).style.display="block"}})},_changeDisplayVisible=function(e,t){var n=function(){1===e.style.length?e.removeAttribute("style"):e.style.display=null},r=getComputedStyle(e);if(!e.style.display&&r.display&&(e.style.display=r.display),"none"===e.style.display?e.style.display="block":n(),!1===t)return!1;window.addEventListener("resize",function(){return n()})},mediaCheck=function(e){var t="all";e.minWidth&&(t+=" and (min-width: "+e.minWidth+")"),e.maxWidth&&(t+=" and (max-width: "+e.maxWidth+")");var n=window.matchMedia(t),r=function(){!0!==n.matches?e.funcFalse&&e.funcFalse():e.funcTrue&&e.funcTrue()};r(),n.addListener(r)},pageScroll=function(e){!1===e?$.body.classList.add("no-scroll"):$.body.classList.remove("no-scroll")},formShowPass=function(e){e.querySelectorAll(".form__group.-pass").forEach(function(e){e.querySelector("button.show-pass").onclick=function(t){t.preventDefault();var n=e.querySelector("input.form__input");"password"===n.getAttribute("type")?n.setAttribute("type","text"):n.setAttribute("type","password")}})},device=function(e){if((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-document.documentElement.offsetWidth!=17)switch(e){case 1:$.querySelector(".quick-view__wrap").classList.add("-padding");break;case 2:mediaCheck(_defineProperty({minWidth:"768px",funcTrue:function(){$.querySelector(".header-catalog").classList.add("-padding")}},"funcTrue",function(){$.querySelector(".header-catalog").classList.remove("-padding")}));break;case 3:$.querySelectorAll(".filter__item")[$.querySelectorAll(".filter__item").length-1].style.right="0",$.querySelector(".catalog__grid-aside").querySelector(".-filter").style.right="0"}},mobileCatalogControls=function(){var e=$.querySelector(".catalog-controls__sort"),t=$.querySelector(".catalog__grid-aside");$.querySelector(".catalog-controls__sort-btn").onclick=function(){return _changeDisplayVisible(e)},$.querySelector(".catalog-controls__filter-btn").onclick=function(){return _changeDisplayVisible(t)}},swiper=function(e){var t,n;t=e.elem;var r=function(e){return n=new Swiper(e.selector,e.settings)};if(!e.minWidth&&!e.maxWidth)return r(t),!1;mediaCheck({minWidth:e.minWidth,maxWidth:e.maxWidth,funcTrue:function(){r(t)},funcFalse:function(){void 0!==n&&n.destroy(!0,!0)}})},headerCatalog=function(){var e=$.querySelector(".header-catalog"),t=function(){"block"===e.style.display?pageScroll(!1):pageScroll(!0)};t();$.querySelector(".header-catalog__btn").onclick=function(){return function(e){_changeDisplayVisible(e,!1),t()}(e)},e.querySelector("button.close").onclick=function(){return function(e){1===e.style.length?e.removeAttribute("style"):e.style.display=null,pageScroll(!0)}(e)}},headerPopups=function(){var e=$.querySelector(".header-menu"),t=$.querySelector(".mobile-search");[{el:e.querySelector("button.header-menu__btn"),box:e.querySelector(".header-popup")},{el:t.querySelector("button.mobile-search__btn"),box:t.querySelector(".header-popup")}].forEach(function(e){e.el.onclick=function(){_changeDisplayVisible(e.box),pageScroll(!1)}}),$.querySelectorAll(".head-mobile").forEach(function(e){e.querySelector("button.close").onclick=function(){_changeDisplayVisible(e.querySelector("button.close").parentElement.parentElement),pageScroll(!0)}}),e.querySelector('a.header-menu__link[href="@catalog"]').onclick=function(e){e.preventDefault(),_changeDisplayVisible($.querySelector(".header-catalog")),pageScroll(!1)}},quickView=function(){var e=$.querySelector(".quick-view"),t=function(e){1===e.style.length?e.removeAttribute("style"):e.style.display=null};$.querySelectorAll(".product__quick-view").forEach(function(t){t.onclick=function(){e.style.display="block"}}),e.querySelector("button.close").onclick=function(){return t(e)},mediaCheck({maxWidth:"767px",funcTrue:function(){t(e)}})},modalForm=function(){var e,t=function(){e=$.querySelector(".modal-form"),n(),r()},n=function(){_closePopupElement(e)},r=function(){var t=$.querySelectorAll(".modal-form__tab"),n=(e.querySelectorAll("form.form"),e.querySelector('a[href="rec-pass"].form__reset-pass')),r=[],l=null;t.forEach(function(e){r.push(e),e.classList.contains(active)&&(l=$.getElementById(e.getAttribute("href")))}),r.push(n),r.forEach(function(t){t.onclick=function(r){if(r.preventDefault(),t.classList.contains(active))return!1;t!==n?(t.parentElement.querySelector("a.-active").classList.remove(active),t.classList.add(active)):e.querySelector("a.-active").classList.remove(active),l.style.display="none",(l=$.getElementById(t.getAttribute("href"))).style.display="block"}}),n.onclick=function(){t[0].innerHTML="Назад",$.getElementById("rec-pass").style.display="block"}};return{open:function(){t(),e.style.display="flex"},close:n,init:t}}(),profileModule=function(){var e=function(){$.querySelectorAll(".history-item").forEach(function(e){e.querySelector("button.history-item__btn").onclick=function(){var t=e.querySelector("button.history-item__btn");t.parentElement.nextElementSibling.classList.toggle(active),console.log(t.parentElement.nextElementSibling)}})};return{init:function(){_tabsCommonFunc($.querySelectorAll(".profile__tab")),e(),formShowPass($.getElementById("profileForm"))}}}(),catalogFilter=function(){var e=function(){$.querySelectorAll(".filter__item-name").forEach(function(e){e.onclick=function(){e.parentElement.nextElementSibling.classList.toggle("-hidden")}})},t=function(e,t){var n=[null,null];n[e]=t,el.noUiSlider.set(n)},n=function(e){var n=e.previousElementSibling.querySelectorAll(".filter__input");noUiSlider.create(e,{start:[.5,5],connect:!0,range:{min:0,max:6}}),e.noUiSlider.on("update",function(e,t){n[t].value=e[t]}),n.forEach(function(n,r){n.addEventListener("change",function(){t(r,this.value)}),n.addEventListener("keydown",function(n){var l,o=e.noUiSlider.get(),i=Number(o[r]),c=e.noUiSlider.steps()[r];switch(n.which){case 13:n.preventDefault(),t(r,this.value);break;case 38:!1===(l=c[1])&&(l=1),null!==l&&t(r,i+l);break;case 40:!1===(l=c[0])&&(l=1),null!==l&&t(r,i-l)}})})};return{init:function(){e(),$.querySelector(".filter__range")&&n($.querySelector(".filter__range")),$.querySelector(".filter__list")&&mediaCheck({maxWidth:"767px",funcTrue:device(3)}),_closePopupElement($.querySelector(".catalog__grid-aside"))},openOption:e,slider:n}}();